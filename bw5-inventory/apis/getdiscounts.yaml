apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: getdiscounts
  title: "GetDiscounts"
  description: "Shared interface: GetDiscounts.xsd (provided by customerbillproduction-gemini-24-5-2)"
  tags:
    - tibco
    - bw5
spec:
  type: grpc
  lifecycle: production
  owner: group:default/tibco-imported
  system: system:default/tibco-bw5-estate
  definition: |
    <?xml version = "1.0" encoding = "UTF-8"?>
    <!--Generated by Turbo XML. Conforms to w3c http://www.w3.org/2001/XMLSchema-->
    <schema xmlns = "http://www.w3.org/2001/XMLSchema"
    	 targetNamespace = "http://xmlns.vodafone.co.uk/map/til/Billing/CustomerDiscountsAndPromotions/CustomerDiscountCalculation/GetDiscounts"
    	 xmlns:til = "http://xmlns.vodafone.co.uk/map/til/Billing/CustomerDiscountsAndPromotions/CustomerDiscountCalculation/GetDiscounts"
    	 xmlns:xsd = "http://www.w3.org/2001/XMLSchema"
    	 xmlns:vod = "http://xmlns.vodafone.co.uk/map/til/Common/SimpleTypes"	 
    	 xmlns:rs = "http://xmlns.vodafone.co.uk/map/til/Common/ResultStatus"
    	 elementFormDefault = "qualified">
    	<import namespace = "http://xmlns.vodafone.co.uk/map/til/Common/SimpleTypes" schemaLocation = "../../../Common/SimpleTypes.xsd"/>
    	<import namespace = "http://xmlns.vodafone.co.uk/map/til/Common/ResultStatus" schemaLocation = "../../../Common/ResultStatus.xsd"/>
    	
    	<!-- SCM Phase B: Billing/CustomerDiscountsAndPromotions/CustomerDiscountCalculation/GetDiscounts  -->
    	
    	
    	<!-- Ameya M - Moved common elements to Common/CommonObjects/Discount.xsd 13 August 2007 -->
    	
    	
    	<!-- Ameya M - Updated the GetDiscountsResponse schema to make the Discount structure repeatable - 22 August 2007 -->
    	
    	
    	<!-- Ameya M - Updated the GetDiscountsRequest and Response schema in line with HLD 1.0.0  - 23 August 2007 
    				    Request Schema - 1. Added elements CTN, corporateId, effectiveDiscountIndicator 
    							 2. Updated ban and ctn as optional 
    							 3. Added choice element between ban,ctn and corporateId 
    							 4. Removed the reference for Discount common schema and added the Discount element as a complex 	structure-->
    	<!-- Bridget G - Renamed ban element to BAN in the Response schema -14 Spet 2007 -->
    	
    	<!-- $Header: /cvs/TIL_GEMINI/TIL_GEMINI01/SharedResources/SchemaDefinitions/Vodafone/Billing/CustomerDiscountsAndPromotions/CustomerDiscountCalculation/GetDiscounts.xsd,v 1.1 2010/02/10 23:24:46 kaliapea Exp $ -->
    	
    	<complexType name = "GetDiscountsResponse">
    		<!-- <element ref = "dis:Discount" minOccurs = "0" maxOccurs = "unbounded"/>-->
    		<sequence>
    			<element ref = "rs:ResultStatus"/>
    			<element name = "Discount" type = "til:Discount" minOccurs = "0" maxOccurs = "unbounded"/>
    		</sequence>
    	</complexType>
    	<element name = "GetDiscountsResponse" type = "til:GetDiscountsResponse"/>
    	<complexType name = "Discount">
    		<!-- Added index, effectiveDate and ban element as per DiscountInfo object - Ameya M - 14/08/2007 -->
    		
    		<!--<element ref = "soc:Soc" minOccurs = "0"/>-->
    		
    		<sequence>
    			<element name = "category" type = "string" minOccurs = "0"/>
    			<element name = "msisdn" type = "string" minOccurs = "0"/>
    			<element name = "BAN" type = "string" minOccurs = "0"/>
    			<element name = "soc" type = "string" minOccurs = "0"/>
    			<element name = "revenueCode" type = "string" minOccurs = "0"/>
    			<element name = "featureCode" type = "string" minOccurs = "0"/>
    			<element name = "type" type = "string" minOccurs = "0"/>
    			<element name = "percent" type = "string" minOccurs = "0"/>
    			<element name = "fixedAmount" type = "string" minOccurs = "0"/>
    			<element name = "adjustmentReasonCode" type = "string" minOccurs = "0"/>
    			<element name = "effectiveDate" type = "date" minOccurs = "0"/>
    			<element name = "expirationDate" type = "date" minOccurs = "0"/>
    			<element name = "corporateId" type = "string" minOccurs = "0"/>
    			<element name = "groupCode" type = "string" minOccurs = "0"/>
    			<element name = "sumIndicator" type = "boolean" minOccurs = "0"/>
    			<element name = "hideIndicator" type = "boolean" minOccurs = "0"/>
    			<element name = "priority" type = "string" minOccurs = "0"/>
    			<element name = "usageThreshold" type = "string" minOccurs = "0"/>
    		</sequence>
    	</complexType>
    	<complexType name = "GetDiscountsRequest">
    		<!-- include here the input elements -->
    		<sequence>
    			<choice>
    				<element name = "ban" type = "vod:BAN"/>
    				<element name = "corporateId" type = "string"/>
    			</choice>
    			<element name = "effectiveDiscountIndicator" type = "boolean" minOccurs = "0"/>
    		</sequence>
    	</complexType>
    	<element name = "GetDiscountsRequest" type = "til:GetDiscountsRequest"/>
    </schema>
