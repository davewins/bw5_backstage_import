apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: getbalance-3
  title: "GetBalance.3"
  description: "Shared interface: GetBalance.3.xsd (provided by balancemanagement-surepay-26-1-4)"
  tags:
    - tibco
    - bw5
spec:
  type: grpc
  lifecycle: production
  owner: group:default/tibco-imported
  system: system:default/tibco-bw5-estate
  definition: |
    <?xml version = "1.0" encoding = "UTF-8"?>
    <!-- Generated by Turbo XML. Conforms to w3c http://www.w3.org/2001/XMLSchema -->
    <!-- Generated by JMSInterfaceCreator v2.1.3 (08/10/2012)
         Generation Date: January 25, 2018 12:28:08 PM IST
    
    Interface Definition:
         serviceName = GetBalance
         destinationQueue = %%Env/JMS/MIG_Jms_Dest_Prefix_IF%%.Request.SOAP.BILL.BalMgt.DebitCreditManagement.GetBalance.3
         inputFile = /BusinessServices/GITA1/GITA2/GITA3/Operation/Interface/Service.serviceagent
         outputFile = C:/cvsdir/TIL_Fusion_01/BusinessServices/Billing/BalanceManagement/DebitCreditManagement/GetBalance/Interface/Service.3.serviceagent
         overwrite = true
         inputNodeName = GetBalanceRequest
         outputNodeName = GetBalanceResponse
         inputSchemaNamespace = http://xmlns.vodafone.co.uk/map/til/Billing/BalanceManagement/DebitCreditManagement/GetBalance
         outputSchemaNamespace = http://xmlns.vodafone.co.uk/map/til/Billing/BalanceManagement/DebitCreditManagement/GetBalance
         inputSchemaLocation = /SharedResources/SchemaDefinitions/Vodafone/Billing/BalanceManagement/DebitCreditManagement/GetBalance.3.xsd
         outputSchemaLocation = /SharedResources/SchemaDefinitions/Vodafone/Billing/BalanceManagement/DebitCreditManagement/GetBalance.3.xsd
         keyName = MSISDN
         keyValue = til:msisdn
         serviceProcess = /BusinessServices/Billing/BalanceManagement/DebitCreditManagement/GetBalance/Interface/SOAPService.3.process
         codePrefix = TIL-096-
         xmlRenderErrorProcess = 
         soap = true
         wsdlLocation = /SharedResources/SchemaDefinitions/Vodafone/Billing/BalanceManagement/DebitCreditManagement/GetBalance.3.wsdl
         wsdlNamespace = http://xmlns.vodafone.co.uk/map/til/wsdl/Billing/BalanceManagement/DebitCreditManagement/GetBalance
         http = false
         sharedChannel = /SharedResources/Connections/JMS/JMSConnectionWithJNDI.sharedjmscon
         jmsinline = false
         other = false
     -->
    <!-- PRJ: Billing/BalanceManagement/DebitCreditManagement - DetailedDesign version X.Y.Z - dd/MM/yyyy -->
    <!-- $Header: /cvs/TSTIL_PROJECT03/SharedResources/SchemaDefinitions/Vodafone/Billing/BalanceManagement/DebitCreditManagement/GetBalance.3.xsd,v 1.2 2018/03/05 08:52:30 sseernam Exp $ -->
    <schema xmlns = "http://www.w3.org/2001/XMLSchema"
    	targetNamespace = "http://xmlns.vodafone.co.uk/map/til/Billing/BalanceManagement/DebitCreditManagement/GetBalance"
    	xmlns:til = "http://xmlns.vodafone.co.uk/map/til/Billing/BalanceManagement/DebitCreditManagement/GetBalance"
    	xmlns:xsd = "http://www.w3.org/2001/XMLSchema"
    	xmlns:vod = "http://xmlns.vodafone.co.uk/map/til/Common/SimpleTypes"
    	xmlns:rs = "http://xmlns.vodafone.co.uk/map/til/Common/ResultStatus"
    	elementFormDefault = "qualified">
    	<import namespace = "http://xmlns.vodafone.co.uk/map/til/Common/SimpleTypes" schemaLocation = "../../../Common/SimpleTypes.xsd"/>
    	<import namespace = "http://xmlns.vodafone.co.uk/map/til/Common/ResultStatus" schemaLocation = "../../../Common/ResultStatus.xsd"/>
    
    	<complexType name="CustomerIdentificationType">
    		<sequence>
    			<element name="MSISDN" type="vod:CTN" minOccurs="0"/>
    			<element name="FLN" type="vod:PHONENUMBER" minOccurs="0"/>
    		</sequence>
    	</complexType>
    	
    	<complexType name="PeriodType">
    		<sequence>
    			<element name="From" type="xsd:dateTime" minOccurs="0"/>
    			<element name="To" type="xsd:dateTime" minOccurs="0"/>
    		</sequence>
    	</complexType>
    		
    	
    	<complexType name="CreditLimitRangeType">
    		<sequence>
    			<element name="MaximumAllocated" type="xsd:decimal" minOccurs="0"/>
    			<element name="CarriedOver" type="xsd:decimal" minOccurs="0"/>
    			<element name="MaximumAvailable" type="xsd:decimal" minOccurs="0"/>
    			<element name="IsUnlimited" type="xsd:boolean" minOccurs="0"/>
    			<element name="Threshold" type="xsd:decimal" minOccurs="0"/>
    			
    		</sequence>
    	</complexType>
    
    	<complexType name="BalanceQuantityType">
    		<sequence>
    			<element name="CreditLimitRange" type="til:CreditLimitRangeType" minOccurs="0"/>
    			<element name="Available" type="xsd:decimal" minOccurs="0"/>
    			<element name="Usage" type="xsd:decimal" minOccurs="0"/>
    			<element name="PeriodType" type="til:PeriodType" minOccurs="0"/>
    		</sequence>
    	</complexType>
    	
    	<complexType name="ServiceUnitType">
    		<sequence>
    			<element name="Name" type="xsd:string" minOccurs="0"/>
    			<element name="Description" type="xsd:string" minOccurs="0"/>
    			<element name="ProductID" type="xsd:string" minOccurs="0"/>
    			<element name="UOM" type="xsd:string" minOccurs="0"/>
    			<element name="GroupType" type="xsd:string" minOccurs="0"/>
    			<element name="BalanceQuantity" type="til:BalanceQuantityType" minOccurs="1" />			
    		</sequence>
    	</complexType>		
    	
    	<complexType name="ServiceBalanceType">
    		<sequence>
    			<element name="Name" type="xsd:string" minOccurs="0"/>
    			<element name="Description" type="xsd:string" minOccurs="0"/>
    			<element name="ProductID" type="xsd:string" minOccurs="0"/>
    			<element name="ServiceUnit" type="til:ServiceUnitType" minOccurs="1" maxOccurs="unbounded"/>			
    		</sequence>
    	</complexType>	
    	
    	<complexType name = "GetBalanceResponse">
    		<sequence>
    			<element ref = "rs:ResultStatus"/>
    			<element name="ServiceBalance" type="til:ServiceBalanceType" minOccurs="0" maxOccurs="unbounded"/>
    		</sequence>
    	</complexType>
    	<element name = "GetBalanceResponse" type = "til:GetBalanceResponse"/>
    
    	<complexType name = "GetBalanceRequest">
    		<sequence>
    			<element name="CustomerIdentification" type="til:CustomerIdentificationType" minOccurs="1"/>
    			<element name="IntegrationID" type="xsd:string" minOccurs="0"/>
    			<element name="BillingProfileID" type="xsd:string" minOccurs="0"/>
    			<element name="ResponseCode" type="xsd:string" minOccurs="1"/>
    		</sequence>
    	</complexType>
    	<element name = "GetBalanceRequest" type = "til:GetBalanceRequest"/>
    </schema>
