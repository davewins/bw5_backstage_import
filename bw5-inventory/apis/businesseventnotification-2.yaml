apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: businesseventnotification-2
  title: "BusinessEventNotification.2"
  description: "Shared interface: BusinessEventNotification.2.xsd (provided by til-osm-adapter-1-22-2-1)"
  tags:
    - tibco
    - bw5
spec:
  type: grpc
  lifecycle: production
  owner: group:default/tibco-imported
  system: system:default/tibco-bw5-estate
  definition: |
    <?xml version="1.0" encoding="UTF-8"?>
    
    <!-- edited with XMLSpy v2008 sp1 (http://www.altova.com) by Vodafone UK (Vodafone UK Ltd) -->
    <!-- Generated by Turbo XML. Conforms to w3c http://www.w3.org/2001/XMLSchema -->
    <!--  
    Version         Updated By              Date            Description
    
    0.0a	        Pierre Ayel             16/12/2010      First draft.
    1.0		Sudhakar Saney		07/07/2011		Updated with SalesOrder & FilfilmentOrder Notification for NewCo
    2.1.0 		ProjectNumber:40000460, 			Added InteractionJourneyEventType
    BEN2.4		Chris Grice		13/12/2012		Added BundleEvent and OrganisationSystemInfo
    BEN2.7		Kislay Komal		01/08/2014		1. Added : TransferEvent as part of NewVo 0.1 CR 30296 - GroupPnP
    								2. Deprecated : PortInEvent, ChangeMSISDN, ActivateAccount, SuspendAccount, MigrateAccount, TerminateEvent and PortOutEvent were Depricated and grouped under ProvisioningEvent as PortInCTN, ChangeCTN, ActivateCTN, SuspendCTN, MigrateCTN, TerminateCTN and PortOutCTN respectively
    								3. Schema for Deprecated Events have been maintained and being used to support the backward compatibility.			
    								4. Reused ProvisoiningOrder EBO for all the events grouped under ProvisioningEvent
    								5. Reused InstalledProductEBO for TransferEvent.
    -->
    <!-- $Header: /cvs/TIL_BW_ADP/TIL_BW_ADP_01/SharedResources/SchemaDefinitions/Vodafone/ITIntegration/ApplicationIntegration/Routing/BusinessEventNotification.2.xsd,v 1.1 2015/10/14 06:55:17 tparames Exp $ -->
    <schema xmlns="http://www.w3.org/2001/XMLSchema"
    	 xmlns:til="http://xmlns.vodafone.co.uk/map/til/ITIntegration/ApplicationIntegration/Routing/BusinessEventNotification"
    	 xmlns:xsd="http://www.w3.org/2001/XMLSchema"
    	 xmlns:vod="http://xmlns.vodafone.co.uk/map/til/Common/SimpleTypes"
    	 xmlns:channel="http://xmlns.vodafone.co.uk/map/til/Common/Channel"
    	 xmlns:ns0="http://xmlns.oracle.com/EnterpriseObjects/Core/EBO/FulfillmentOrder/V1"
    	 xmlns:ns1="http://xmlns.oracle.com/EnterpriseObjects/Core/EBO/SalesOrder/V2"
    	 xmlns:ns2="http://xmlns.oracle.com/EnterpriseObjects/Core/EBO/AdvanceShipmentNotice/V1"
    	 xmlns:ns3="http://xmlns.oracle.com/EnterpriseObjects/Core/EBO/OrderEvent/V1"
    	 xmlns:ns4="http://xmlns.oracle.com/EnterpriseObjects/Core/EBO/InventoryTransaction/V1"
    	 xmlns:ns5="http://xmlns.oracle.com/EnterpriseObjects/Core/EBO/InstalledProduct/V2"
    	 xmlns:ns6="http://xmlns.oracle.com/EnterpriseObjects/Core/Custom/Common/V2"
    	 xmlns:ns7="http://xmlns.oracle.com/EnterpriseObjects/Core/EBO/CreditVet/V1"
    	 xmlns:ns8="http://xmlns.oracle.com/EnterpriseObjects/Core/EBO/ProvisioningOrder/V1"
    	 xmlns:ns9="http://xmlns.oracle.com/EnterpriseObjects/Core/EBO/ServiceOrder/V1"
    	 targetNamespace="http://xmlns.vodafone.co.uk/map/til/ITIntegration/ApplicationIntegration/Routing/BusinessEventNotification"
    	 elementFormDefault="qualified"
    	 attributeFormDefault="unqualified">
    	<import namespace="http://xmlns.vodafone.co.uk/map/til/Common/SimpleTypes" schemaLocation="../../../Common/SimpleTypes.xsd"/>
    	<import namespace="http://xmlns.vodafone.co.uk/map/til/Common/Channel" schemaLocation="../../../Common/Channel.xsd"/>
    	<import namespace="http://xmlns.oracle.com/EnterpriseObjects/Core/EBO/FulfillmentOrder/V1" schemaLocation="../../../../AIAMetaData/AIAComponents/EnterpriseObjectLibrary/Industry/Communications/EBO/FulfillmentOrder/V1/FulfillmentOrderEBM.xsd"/>
    	<import namespace="http://xmlns.oracle.com/EnterpriseObjects/Core/EBO/SalesOrder/V2" schemaLocation="../../../../AIAMetaData/AIAComponents/EnterpriseObjectLibrary/Industry/Communications/EBO/SalesOrder/V2/SalesOrderEBM.xsd"/>
    	<import namespace="http://xmlns.oracle.com/EnterpriseObjects/Core/EBO/AdvanceShipmentNotice/V1" schemaLocation="../../../../AIAMetaData/AIAComponents/EnterpriseObjectLibrary/Industry/Communications/EBO/AdvanceShipmentNotice/V1/AdvanceShipmentNoticeEBM.xsd"/>
    	<import namespace="http://xmlns.oracle.com/EnterpriseObjects/Core/EBO/OrderEvent/V1" schemaLocation="../../../../VodaComponents/EnterpriseObjectLibrary/Industry/Communications/EBO/OrderEvent/V1/OrderEventEBO.xsd"/>
    	<import namespace="http://xmlns.oracle.com/EnterpriseObjects/Core/EBO/InventoryTransaction/V1" schemaLocation="../../../../AIAMetaData/AIAComponents/EnterpriseObjectLibrary/Industry/Communications/EBO/InventoryTransaction/V1/InventoryTransactionEBM.xsd"/>
    	<import namespace="http://xmlns.oracle.com/EnterpriseObjects/Core/EBO/InstalledProduct/V2" schemaLocation="../../../../AIAMetaData/AIAComponents/EnterpriseObjectLibrary/Industry/Communications/EBO/InstalledProduct/V2/InstalledProductEBM.xsd"/>
    	<import namespace="http://xmlns.oracle.com/EnterpriseObjects/Core/Custom/Common/V2" schemaLocation="../../../../AIAMetaData/AIAComponents/EnterpriseObjectLibrary/Infrastructure/Custom/V1/CustomMeta.xsd"/>
    	<import namespace="http://xmlns.oracle.com/EnterpriseObjects/Core/EBO/CreditVet/V1" schemaLocation="../../../../VodaComponents/EnterpriseObjectLibrary/Industry/Communications/EBO/CreditVet/V1/CreditVetEBO.xsd"/>
    	<import namespace="http://xmlns.oracle.com/EnterpriseObjects/Core/EBO/ProvisioningOrder/V1" schemaLocation="../../../../AIAMetaData/AIAComponents/EnterpriseObjectLibrary/Industry/Communications/EBO/ProvisioningOrder/V1/ProvisioningOrderEBM.xsd"/>
    	<import namespace = "http://xmlns.oracle.com/EnterpriseObjects/Core/EBO/ServiceOrder/V1" schemaLocation = "../../../../VodaComponents/EnterpriseObjectLibrary/Industry/Communications/EBO/ServiceOrder/V1/ServiceOrderEBM.xsd"/>
    
    	<!--  -->
    	<!--  -->
    	<complexType name="PromotionEvent">
    		<sequence>
    			<element name="action">
    				<simpleType>
    					<restriction base="xsd:string">
    						<enumeration value="optin"/>
    						<enumeration value="optout"/>
    						<enumeration value="migrate"/>
    					</restriction>
    				</simpleType>
    			</element>
    			<element name="promotionId" type="xsd:string" minOccurs="0" maxOccurs="unbounded"/>
    			<element name="oldPromotionId" type="xsd:string" minOccurs="0"/>
    		</sequence>
    	</complexType>
    
    	<!--  -->
    	<!--  -->
    	<complexType name="TerminateEvent">
    		<sequence>
    			<element name="CTN" type="vod:PHONENUMBER"/>
    			<element name="actionTimeStamp" type="xsd:dateTime"/>
    		</sequence>
    	</complexType>
    
    	<!--  -->
    	<!--  -->
    	<complexType name="PortInEvent">
    		<sequence>
    			<element name="CTN" type="vod:PHONENUMBER"/>
    			<element name="actionTimeStamp" type="xsd:dateTime"/>
    		</sequence>
    	</complexType>
    
    	<!--  -->
    	<!--  -->
    	<complexType name="PortOutEvent">
    		<sequence>
    			<element name="CTN" type="vod:PHONENUMBER"/>
    			<element name="actionTimeStamp" type="xsd:dateTime"/>
    		</sequence>
    	</complexType>
    
    	<!--  -->
    	<!--  -->
    	<element name="InteractionJourney">
    		<complexType>
    			<sequence>
    				<element name="name" type="xsd:string"/>
    				<element name="ID" type="xsd:string" minOccurs="0"/>
    				<element name="channel" type="channel:CHANNEL"/>
    				<element name="startTime" type="xsd:dateTime"/>
    				<element name="endTime" type="xsd:dateTime" minOccurs="0"/>
    				<element ref="til:Activity" maxOccurs="unbounded"/>
    			</sequence>
    		</complexType>
    	</element>
    
    	<!--  -->
    	<!--  -->
    	<element name="Activity">
    		<complexType>
    			<sequence>
    				<element name="type" type="xsd:string"/>
    				<element name="time" type="xsd:dateTime"/>
    				<element name="sequenceNumber" type="xsd:int" minOccurs="0"/>
    				<element ref="til:ActivityData" minOccurs="0" maxOccurs="unbounded"/>
    			</sequence>
    		</complexType>
    	</element>
    
    	<!--  -->
    	<!--  -->
    	<element name="ActivityData">
    		<complexType>
    			<sequence>
    				<element name="name" type="xsd:string"/>
    				<element name="value" type="xsd:string"/>
    			</sequence>
    		</complexType>
    	</element>
    
    	<!--  -->
    	<!--  -->
    	<complexType name="InteractionJourneyEvent">
    		<sequence>
    			<element ref="til:InteractionJourney"/>
    		</sequence>
    	</complexType>
    
    	<!--  -->
    	<!--  -->
    	<!--  -->
    	<!--  -->
    	<!--  SuspendAccount -->
    	<complexType name="SuspendAccount">
    		<sequence>
    			<element name="CTN" type="vod:PHONENUMBER"/>
    			<element name="actionTimeStamp" type="xsd:dateTime"/>
    			<element name="reason">
    				<simpleType>
    					<restriction base="xsd:string">
    						<enumeration value="LOSTORSTOLEN"/>
    						<enumeration value="OTHER"/>
    					</restriction>
    				</simpleType>
    			</element>
    		</sequence>
    	</complexType>
    
    	<!--  -->
    	<!--  -->
    	<!--  ActivateAccount -->
    	<complexType name="ActivateAccount">
    		<sequence>
    			<element name="CTN" type="vod:PHONENUMBER"/>
    			<element name="actionTimeStamp" type="xsd:dateTime"/>
    			<element name="reason">
    				<simpleType>
    					<restriction base="xsd:string">
    						<enumeration value="FOUNDANDRECOVERED"/>
    						<enumeration value="OTHER"/>
    					</restriction>
    				</simpleType>
    			</element>
    		</sequence>
    	</complexType>
    
    	<!--  -->
    	<!--  -->
    	<!--  MigrateAccount -->
    	<complexType name="MigrateAccount">
    		<sequence>
    			<element name="CTN" type="vod:PHONENUMBER"/>
    			<element name="actionTimeStamp" type="xsd:dateTime"/>
    		</sequence>
    	</complexType>
    
    	<!--  -->
    	<!--  -->
    	<!--  ChangeMSISDN -->
    	<complexType name="ChangeMSISDN">
    		<sequence>
    			<element name="CTN" type="vod:PHONENUMBER"/>
    			<element name="actionTimeStamp" type="xsd:dateTime"/>
    			<element name="oldMSISDN" type="vod:PHONENUMBER"/>
    			<element name="newMSISDN" type="vod:PHONENUMBER"/>
    		</sequence>
    	</complexType>
    
    	<!--  -->
    	<!--  -->
    	<!--  RoamingNetworkStatus -->
    	<complexType name="RoamingChangeNotification">
    		<sequence>
    			<element name="roaming" type="til:RoamingStatus"/>
    			<element name="ARP" type="xsd:string" minOccurs="0"/>
    			<element name="region" type="xsd:string" minOccurs="0"/>
    		</sequence>
    	</complexType>
    	<!--  RoamingStatus -->
    	<complexType name="RoamingStatus">
    		<sequence>
    			<element name="subscriberId" type="xsd:string" minOccurs="0"/>
    			<element name="deviceId" type="xsd:string" minOccurs="0"/>
    			<element name="retrievalTime" type="xsd:dateTime"/>
    			<choice>
    				<element name="servingMccMnc" type="til:MobileCountryNetworkCode"/>
    				<element name="servingNode" type="til:MobileServingNetworkNode"/>
    			</choice>
    		</sequence>
    	</complexType>
    	<!--  MobileCountryNetworkCode -->
    	<complexType name="MobileCountryNetworkCode">
    		<sequence>
    			<element name="mcc" type="xsd:string"/>
    			<element name="mnc" type="xsd:string"/>
    		</sequence>
    	</complexType>
    	<!--  MobileServingNetworkNode -->
    	<complexType name="MobileServingNetworkNode">
    		<sequence>
    			<element name="type" type="xsd:string"/>
    			<element name="node" type="xsd:string"/>
    		</sequence>
    	</complexType>
    
    	<!--  -->
    	<!--  -->
    	<complexType name="BusinessEventNotification">
    		<sequence>
    			<element name="BusinessKey" maxOccurs="unbounded">
    				<complexType>
    					<sequence>
    						<element name="name" type="xsd:string"/>
    						<element name="value" type="xsd:string"/>
    					</sequence>
    				</complexType>
    			</element>
    			<element name="eventType" type="xsd:string"/>
    			<element name="EventSubType" type="xsd:string" minOccurs="0"/>
    			<element name="Status" type="xsd:string" minOccurs="0"/>
    			<element name="OrganisationSystemInfo" type="ns6:CustomOriginatorSystemInfoType" minOccurs="0"/>
    			<element name="Notification">
    				<complexType>
    					<choice>
    						<element name="PromotionEvent" type="til:PromotionEvent" minOccurs="0"/>
    						<element name="FulfilmentOrder" type="ns0:FulfillmentOrderEBMType" minOccurs="0"/>
    						<element name="SalesOrder" type="ns1:SalesOrderEBMType" minOccurs="0"/>
    						<element name="TerminateEvent" type="til:TerminateEvent" minOccurs="0"/>
    						<element name="PortOutEvent" type="til:PortOutEvent" minOccurs="0"/>
    						<element name="PortInEvent" type="til:PortInEvent" minOccurs="0"/>
    						<element name="InteractionJourneyEvent" type="til:InteractionJourneyEvent" minOccurs="0"/>
    						<element name="ShipmentEvent" type="ns2:CreateAdvanceShipmentNoticeListEBMType" minOccurs="0"/>
    						<element name="OrderEvent" type="ns3:OrderEventEBOType" minOccurs="0"/>
    						<element name="InventoryTransaction" type="ns4:InventoryTransactionEBMType" minOccurs="0"/>
    						<element name="SuspendAccount" type="til:SuspendAccount" minOccurs="0"/>
    						<element name="ActivateAccount" type="til:ActivateAccount" minOccurs="0"/>
    						<element name="MigrateAccount" type="til:MigrateAccount" minOccurs="0"/>
    						<element name="ChangeMSISDN" type="til:ChangeMSISDN" minOccurs="0"/>
    						<element name="BundleEvent" type="ns5:InstalledProductEBOType" minOccurs="0"/>
    						<element name="CreditVetEvent" type="ns7:CreditVetEBOType" minOccurs="0"/>
    						<element name="ProvisioningOrder" type="ns8:ProvisioningOrderEBMType" minOccurs="0"/>
    						<element name="RoamingNetworkStatus" type="til:RoamingChangeNotification" minOccurs="0"/>
    						<element name="TransferEvent" type="ns5:InstalledProductEBOType" minOccurs="0"/>
    						<element name="FixedLineOrderNotification" type="ns9:ServiceOrderEBMType" minOccurs="0"/>						
    					</choice>
    				</complexType>
    			</element>
    		</sequence>
    	</complexType>
    
    	<!--  -->
    	<element name="BusinessEventNotification" type="til:BusinessEventNotification"/>
    </schema>
